import{_ as s}from"./plugin-vue_export-helper-c27b6911.js";import{o as n,c as a,e}from"./app-64748420.js";const l={},i=e(`<h2 id="介绍" tabindex="-1"><a class="header-anchor" href="#介绍" aria-hidden="true">#</a> 介绍</h2><p>本插件的连接方式主要为Websocket通信，可以存在0个至n个 <a href="#websocket%E8%BF%9E%E6%8E%A5">Websocket 连接</a> 和 <a href="#%E5%8F%8D%E5%90%91websocket%E8%BF%9E%E6%8E%A5">反向 Websocket 连接</a></p><h2 id="websocket连接" tabindex="-1"><a class="header-anchor" href="#websocket连接" aria-hidden="true">#</a> Websocket连接</h2><p>使用此连接方式时，插件将会作为WS服务端监听一个指定的端口，并且在连接的时候负责鉴权。</p><div class="hint-container warning"><p class="hint-container-title">注意</p><p>暂时还未设计当监听失败时的fallback逻辑，请谨慎使用</p></div><h3 id="配置参考" tabindex="-1"><a class="header-anchor" href="#配置参考" aria-hidden="true">#</a> 配置参考</h3><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">- </span><span style="color:#E06C75;">ws-1</span><span style="color:#ABB2BF;">: </span><span style="color:#7F848E;font-style:italic;"># 连接名，不可重复</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#7F848E;font-style:italic;"># 监听地址</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">host</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">127.0.0.1</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#7F848E;font-style:italic;"># 监听端口</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">port</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">8081</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#7F848E;font-style:italic;"># Access token</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">token</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;&#39;</span></span>
<span class="line"></span></code></pre><div class="highlight-lines"><div class="highlight-line"> </div><br><div class="highlight-line"> </div><br><div class="highlight-line"> </div><br><div class="highlight-line"> </div></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>完整配置请参考 <a href="/plugin_nonebot/config">配置文件</a></p></div><h2 id="反向websocket连接" tabindex="-1"><a class="header-anchor" href="#反向websocket连接" aria-hidden="true">#</a> 反向Websocket连接</h2><p>使用此连接方式时，插件将会作为WS客户端去尝试连接给定的服务器地址，并且会在断开连接时重连。</p><h3 id="配置参考-1" tabindex="-1"><a class="header-anchor" href="#配置参考-1" aria-hidden="true">#</a> 配置参考</h3><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">- </span><span style="color:#E06C75;">ws-reverse-1</span><span style="color:#ABB2BF;">: </span><span style="color:#7F848E;font-style:italic;"># 连接名，不可重复</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#7F848E;font-style:italic;"># WS服务器地址</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">address</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;ws://127.0.0.1:8080/mc/ws&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#7F848E;font-style:italic;"># 重连时间，单位毫秒</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">reconnect-interval</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">10000</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#7F848E;font-style:italic;"># Access token</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">token</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;&#39;</span></span>
<span class="line"></span></code></pre><div class="highlight-lines"><div class="highlight-line"> </div><br><div class="highlight-line"> </div><br><div class="highlight-line"> </div><br><div class="highlight-line"> </div></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>完整配置请参考 <a href="/plugin_nonebot/config">配置文件</a></p></div>`,13),c=[i];function o(t,p){return n(),a("div",null,c)}const h=s(l,[["render",o],["__file","connection.html.vue"]]);export{h as default};
